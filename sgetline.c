/******************************************************************************/
/*                                                                            */
/* $Header$
/*                                                                            */
/******************************************************************************/
/*                                                                            */
/* int sgetline (char *fp, char *buf);                                        */
/*                                                                            */
/******************************************************************************/

# include <stdio.h>

int sgetline (char *fp, char *buf)
{
    int i, c = 0;

    i = 0;
    buf[0] = '\0';
    while ((c = *fp++) != '\n' && c != '\0')
    {
        buf[i++] = c;
    }
    if ( (c == '\n') || (c == '\r'))
    {
       buf[i] = '\0';
    }
/**********
    if (i > 0 && buf[i-1] == '\r')
        i--;

    buf[i++] = '\n';

    return ((c == '\0') ? c : i);
***********/
    return (i);
}
